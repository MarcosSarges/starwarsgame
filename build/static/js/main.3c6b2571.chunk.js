(window.webpackJsonpstarwarsgame=window.webpackJsonpstarwarsgame||[]).push([[0],{29:function(e,t,n){e.exports=n(63)},34:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(28),u=n(5),l=n(6),s=(n(34),n(4)),m=n.n(s),p=n(25),f=n(8),d=n(9),b=n.n(d),v=b.a.create({baseURL:"https://swapi.co/api/",headers:{"content-type":"application/json"}}),E=function(e){return Math.floor(Math.random()*e+1)},h=n(11),g=n.n(h),w=g.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),O=function(e){w.fire({type:"error",title:e})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){return new Promise(function(){var e=Object(f.a)(m.a.mark((function e(t,n){var a,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/planets");case 3:return a=e.sent,r=E(a.data.count),e.next=7,v.get("/planets/".concat(r));case 7:if(o=e.sent,c=[],!(o.data.films.length>0)){e.next=13;break}return e.next=12,P(o.data.films);case 12:c=e.sent;case 13:t(j({},o.data,{},c.length>0?{films:c}:{})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),O("Erro ao sortear um card.");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}())},P=function(e){return new Promise(function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return b.a.get(e)}))).then((function(e){var t=e.map((function(e){return e.data}));n(t)})).catch((function(e){a(e),O("Erro ao buscar os filmes.")}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},k=function(e){return new Promise(function(){var t=Object(f.a)(m.a.mark((function t(n,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/planets/?search=".concat(e));case 2:0===(r=t.sent).data.count&&(a({error:"Nada foi encontrado."}),O("Nada foi encontrado.")),n(r.data.results);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())};n(53);function N(e){return r.a.createElement("form",{className:"form"},r.a.createElement("input",e.inputProps),r.a.createElement("button",Object.assign({type:"submit"},e.buttonProps),e.labelButton),r.a.createElement("button",Object.assign({type:"button"},e.secundButton),e.secundLabelButton))}n(54);var B=function(e){var t=r.a.useState(!0),n=Object(l.a)(t,2),a=n[0],o=n[1];return r.a.createElement("span",{onClick:function(){o(!a)},style:{cursor:"pointer",borderBottom:a?"1px solid rgb(241,237,0)":"none"}},a?"Exibir":e.txt)};function S(e){return r.a.createElement("div",{className:"planetCard"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,e.name)),r.a.createElement("div",{className:"body"},r.a.createElement("p",null,"Popula\xe7\xe3o:",r.a.createElement(B,{txt:e.population})),r.a.createElement("p",null,"Clima: ",r.a.createElement(B,{txt:e.climate})),r.a.createElement("p",null,"Terreno(s): ",r.a.createElement(B,{txt:e.terrain})),r.a.createElement("p",null,"Quantidade de filmes: ",r.a.createElement(B,{txt:e.countFilms}))))}n(55);function D(){return r.a.createElement("div",{className:"_container"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))}function C(){var e=r.a.useState(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],o=r.a.useState([]),c=Object(l.a)(o,2),i=c[0],u=c[1],s=r.a.useState(""),m=Object(l.a)(s,2),p=m[0],f=m[1],d=function(){x().then((function(e){u([e]),a(!1)})).catch((function(e){console.log(e)}))},b=function(){a(!0),k(p).then((function(e){f(""),u(e)})).catch((function(e){console.log(e)})).finally((function(){a(!1)}))};return r.a.useEffect((function(){d()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"grid"},r.a.createElement("h1",{className:"titlePage"},"StarWars",r.a.createElement("br",null),"qual o planeta?"),r.a.createElement("div",{className:"divInput"},r.a.createElement(N,{labelButton:"Pesquisar",secundLabelButton:"Sortear outro planeta",inputProps:{value:p,onChange:function(e){return f(e.target.value)},placeholder:"Digite o nome do planeta..."},buttonProps:{onSubmit:function(e){e.preventDefault(),b()},onClick:function(e){e.preventDefault(),b()}},secundButton:{onSubmit:function(e){e.preventDefault(),a(!0),d()},onClick:function(e){e.preventDefault(),a(!0),d()}}})),r.a.createElement("div",{className:n?"loading":"cards"},n?r.a.createElement(D,null):i.map((function(e){return r.a.createElement(S,{key:e.url,terrain:e.terrain,climate:e.climate,name:e.name,population:e.population,countFilms:e.films.length,films:e.films.map((function(e){return e.title})).join(",")})})))))}n(56);function L(){return r.a.createElement("div",{className:"wrapper"})}n(62);c.a.render(r.a.createElement((function(){return r.a.createElement(i.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/start-game",component:C}),r.a.createElement(u.a,{from:"*",to:"/start-game"})),r.a.createElement(L,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.3c6b2571.chunk.js.map